# PomoBreak Optimization Roadmap

**Last Updated**: October 18, 2025
**Status**: In Progress
**Overall Progress**: 13/87 tasks completed

> 📌 **How to Use This Roadmap**
> - Check off tasks as you complete them
> - Each section shows progress: `Completed/Total`
> - ✅ = Done | ⏳ = In Progress | ⚠️ = Blocked | Skip if not applicable
> - Estimated times are for a single developer
> - Feel free to reorder based on your priorities

---

## Phase 1: Critical Performance & Code Quality Fixes 🔴

**Phase Status**: 13/13 | **Est. Time**: 8-10 hours

### 1.1 Fix Massive useEffect Dependencies Array

- [x] **1.1.1** Analyze current useEffect in Timer.jsx line ~95
- [x] **1.1.2** Identify which dependencies actually need to trigger re-renders
- [x] **1.1.3** Create separate useEffect for audio management
  - [x] Keep only `isRunning` and `timerModeState` as triggers
  - [x] Load audio only once on component mount
  - [x] Handle audio cleanup in return function
- [x] **1.1.4** Create separate useEffect for button sound
  - [x] Decouple from timer state changes
  - [x] Only trigger on explicit button clicks
- [x] **1.1.5** Remove from dependencies: `pauseAudio`, `playAudio`, `loadAudio` (these are stable functions)
- [x] **1.1.6** Test timer still works after refactoring
- [x] **1.1.7** Verify no audio glitches or restart issues
- [x] **1.1.8** Check browser console for warnings
- [x] **1.1.9** Document changes in PR/commit message

### 1.2 Remove All console.log Statements

- [x] **1.2.1** Search project for all `console.log` occurrences
- [x] **1.2.2** Remove production debugging logs
- [ ] **1.2.3** Consider adding error logging (not console.log)
- [x] **1.2.4** Run build and verify no console warnings

### 1.3 Delete Dead/Commented Code

- [x] **1.3.1** Remove commented code from Timer.jsx
- [x] **1.3.2** Remove incomplete `player()` utility function from util.js
- [x] **1.3.3** Clean up unused imports across all files
- [x] **1.3.4** Remove unused component props if any
- [x] **1.3.5** Document what the old code was trying to do (in git commit)
- [ ] **1.3.6** Test app still functions normally

### 1.4 Refactor Repetitive Timer Mode Logic

- [x] **1.4.1** Create a mode handler map in Timer.jsx
- [x] **1.4.2** Refactor `forwardButtonClicked()` to use map
- [x] **1.4.3** Refactor `backwardButtonClicked()` to use map
- [x] **1.4.4** Search for any other if-chain patterns and refactor
- [x] **1.4.5** Extract logic into helper function
- [x] **1.4.6** Test all mode transitions (pomo → short → long → pomo)
- [ ] **1.4.7** Test both with and without auto-start enabled
- [x] **1.4.8** Verify forward/backward buttons work correctly

### 1.5 Optimize buttonStyle() Function

- [x] **1.5.1** Convert function to use object/map instead of 6 if-statements
- [x] **1.5.2** Memoize with useMemo to prevent recalculation
- [x] **1.5.3** Remove `var` keyword (use `const`)
- [x] **1.5.4** Add JSDoc comment explaining the function
- [ ] **1.5.5** Test all button states (running/paused, all 3 modes)
- [x] **1.5.6** Verify styling applies correctly

### 1.6 Fix Variables Using `var` Keyword

- [x] **1.6.1** Replace all `var` with `const` in Timer.jsx
- [x] **1.6.2** Check util.js for any `var` usage
- [x] **1.6.3** Search entire codebase for remaining `var` statements
- [x] **1.6.4** Ensure linting catches this (add ESLint rule)

### 1.7 Code Style Consistency

- [x] **1.7.1** Review naming conventions across components
- [x] **1.7.2** Ensure consistent import/export style
- [x] **1.7.3** Check for inconsistent spacing/indentation
- [x] **1.7.4** Create `.prettierrc` config for consistency
- [x] **1.7.5** Run Prettier on codebase

---

## Phase 2: State Management Improvements 🟠

**Phase Status**: 6/14 | **Est. Time**: 6-8 hours

### 2.1 Audit settingsSlice.js

- [x] **2.1.1** Review `settingsSlice.js`
- [x] **2.1.2** Document current state structure
- [ ] **2.1.3** Create visual diagram of state flow
- [ ] **2.1.4** Identify problematic patterns
- [ ] **2.1.5** Plan refactoring strategy

### 2.2 Create Composite Redux Actions

- [x] **2.2.1** Identify common action sequences
- [x] **2.2.2** Create composite thunk actions (`setTimerModeAndReset`, `advanceCycle`, `retreatCycle`, `resetCycleAndTimer`)
- [ ] **2.2.3** Replace multiple sequential dispatches with single composite action
- [x] **2.2.4** Update Timer.jsx to use new composite actions
- [ ] **2.2.5** Test all workflows still function

### 2.3 Create Custom Hook: useTimerMode()

- [x] **2.3.1** Create `useTimerMode.js`
- [x] **2.3.2** Extract mode switching logic from Timer.jsx
- [x] **2.3.3** Encapsulate all mode-related state updates
- [x] **2.3.4** Handle transitions between modes
- [x] **2.3.5** Test hook independently
- [x] **2.3.6** Update Timer.jsx to use hook

### 2.4 Create Custom Hook: useAutoStartCycle()

- [x] **2.4.1** Create `useAutoStartCycle.js`
- [x] **2.4.2** Extract auto-start cycle logic from Timer.jsx
- [x] **2.4.3** Handle cycle transitions
- [x] **2.4.4** Manage counter increment/decrement
- [x] **2.4.5** Encapsulate enable/disable logic
- [x] **2.4.6** Test hook independently
- [x] **2.4.7** Update Timer.jsx to use hook

### 2.5 Create Custom Hook: useTimerControls()

- [x] **2.5.1** Create `useTimerControls.js`
- [x] **2.5.2** Consolidate start/pause/resume button logic
- [x] **2.5.3** Return clean interface
- [x] **2.5.4** Encapsulate button click sounds
- [x] **2.5.5** Test all control scenarios
- [x] **2.5.6** Update Timer.jsx to use hook

### 2.6 Refactor Timer.jsx Component

- [x] **2.6.1** Remove custom hook logic (replaced by 2.3-2.5)
- [x] **2.6.2** Update component to use new hooks
- [x] **2.6.3** Reduce Timer.jsx size
- [x] **2.6.4** Focus component on rendering and event handlers
- [x] **2.6.5** Add JSDoc comments
- [x] **2.6.6** Full component testing**Estimated Time**: 1-2 hours

---

### 2.7 Redux Selector Optimization

- [x] **2.7.1** Create `src/store/selectors.js` file
- [x] **2.7.2** Define all selectors in one place:
  ```javascript
  export const selectTimerMode = state => state.settings.timermode
  export const selectIsRunning = state => state.settings.isrunning
  ```
- [x] **2.7.3** Update all components to import selectors instead of inline
- [x] **2.7.4** Add memoized selectors using Reselect library (if needed)
- [x] **2.7.5** Document selector patterns

**Estimated Time**: 1 hour

---

## Phase 3: Audio Management 🟠

**Phase Status**: 0/11 | **Est. Time**: 4-5 hours

### 3.1 Audit Audio Issues

- [ ] **3.1.1** Identify all audio loading locations in codebase
  - [ ] Timer.jsx line ~99-105
  - [ ] Timer.jsx line ~233
  - [ ] Any other components
- [ ] **3.1.2** Document current audio behavior issues:
  - [ ] Does audio restart unexpectedly?
  - [ ] Are multiple audio instances playing?
  - [ ] Does audio stop work correctly?
- [ ] **3.1.3** Check react-use-audio-player documentation
- [ ] **3.1.4** Test audio cleanup on component unmount

**Estimated Time**: 30 minutes

---

### 3.2 Create Audio Service

- [ ] **3.2.1** Create new file: `src/services/audioService.js`
- [ ] **3.2.2** Design audio service API:
  ```javascript
  {
    initialize: () => void,
    play: (name, options) => Promise,
    stop: (name) => void,
    setVolume: (name, volume) => void,
    preload: (name, path) => void,
    dispose: () => void
  }
  ```
- [ ] **3.2.3** Implement lazy loading for audio files
- [ ] **3.2.4** Add error boundaries for failed playback
- [ ] **3.2.5** Cache audio instances to prevent memory leaks
- [ ] **3.2.6** Add console error logging (not console.log)

**Estimated Time**: 1-2 hours

---

### 3.3 Create Audio Manager Hook

- [ ] **3.3.1** Create new file: `src/hooks/useAudioManager.js`
- [ ] **3.3.2** Wrap audioService in a React hook
- [ ] **3.3.3** Handle cleanup in useEffect return
- [ ] **3.3.4** Expose simple interface:
  ```javascript
  const { playSound, setVolume } = useAudioManager()
  ```
- [ ] **3.3.5** Test hook with component mount/unmount cycles

**Estimated Time**: 30 minutes

---

### 3.4 Replace Audio Loading in Timer.jsx

- [ ] **3.4.1** Remove direct `loadAudio()` calls from Timer.jsx
- [ ] **3.4.2** Replace with useAudioManager hook
- [ ] **3.4.3** Initialize audio on component mount only
- [ ] **3.4.4** Test ticking sound plays correctly
- [ ] **3.4.5** Test button press sound works
- [ ] **3.4.6** Verify no memory leaks

**Estimated Time**: 30 minutes

---

### 3.5 Audit Sound Files

- [ ] **3.5.1** List all audio files currently in `src/assets/sounds/`
- [ ] **3.5.2** Identify which sounds are actually used
  - [ ] Which are duplicates?
  - [ ] Which are never loaded?
- [ ] **3.5.3** Check file sizes and formats
  - [ ] Consider converting .mp3 to .webm (smaller)
  - [ ] Consider using .wav for very short sounds
- [ ] **3.5.4** Remove unused sound files
- [ ] **3.5.5** Update build to only include used sounds

**Estimated Time**: 30 minutes

---

### 3.6 Update SecondaryButtons Audio Usage

- [ ] **3.6.1** Review SecondaryButtons.jsx for audio usage (need to see file)
- [ ] **3.6.2** Replace with new audio service if needed
- [ ] **3.6.3** Test sound playback in settings changes
- [ ] **3.6.4** Verify volume control works

**Estimated Time**: 30 minutes

---

## Phase 4: Modernization & Refactoring 🟡

**Phase Status**: 0/12 | **Est. Time**: 8-10 hours

### 4.1 Upgrade React Router v5 → v6

- [ ] **4.1.1** Review current router setup in App.jsx
- [ ] **4.1.2** Backup current version in git
- [ ] **4.1.3** Update package.json
  ```bash
  npm install react-router-dom@latest
  ```
- [ ] **4.1.4** Update App.jsx:
  - [ ] Replace `<Switch>` with `<Routes>`
  - [ ] Update route path patterns
  - [ ] Update exact prop usage
- [ ] **4.1.5** Update components that use routing:
  - [ ] ResponsiveHeader.jsx (links)
  - [ ] Footer.jsx (links)
  - [ ] Any useHistory hooks → useNavigate
- [ ] **4.1.6** Test all navigation links
- [ ] **4.1.7** Test back button functionality
- [ ] **4.1.8** Verify query parameters still work (if used)
- [ ] **4.1.9** Update build and test production build

**Estimated Time**: 2-3 hours

---

### 4.2 Add React Router Lazy Loading

- [ ] **4.2.1** Import React.lazy and Suspense
- [ ] **4.2.2** Lazy load Settings route
- [ ] **4.2.3** Lazy load Report route
- [ ] **4.2.4** Lazy load Help route
- [ ] **4.2.5** Add Suspense fallback UI
- [ ] **4.2.6** Test code splits in dev tools
- [ ] **4.2.7** Verify lazy routes load correctly

**Estimated Time**: 1-2 hours

---

### 4.3 Component Refactoring Pass

- [ ] **4.3.1** Audit all components in `src/components/`
- [ ] **4.3.2** Ensure all are functional components
- [ ] **4.3.3** Check for any remaining class components
- [ ] **4.3.4** Review component prop drilling
  - [ ] Are too many props being passed?
  - [ ] Should some be moved to Redux?
- [ ] **4.3.5** Add prop validation (PropTypes or TypeScript)
- [ ] **4.3.6** Add JSDoc comments to all components

**Estimated Time**: 2-3 hours

---

### 4.4 CSS Organization

- [ ] **4.4.1** Review CSS file structure
  - [ ] Each component has corresponding .css file?
  - [ ] Global styles in App.css?
  - [ ] CSS duplication?
- [ ] **4.4.2** Consider CSS Module migration (optional)
- [ ] **4.4.3** Extract reusable CSS classes
- [ ] **4.4.4** Add CSS comments for complex styles
- [ ] **4.4.5** Check for unused CSS classes

**Estimated Time**: 1-2 hours

---

### 4.5 Dependency Audit

- [ ] **4.5.1** Run `npm outdated` to check for updates
- [ ] **4.5.2** Review each outdated dependency
  - [ ] Major version changes (breaking)?
  - [ ] Minor/patch updates safe?
  - [ ] Still maintained?
- [ ] **4.5.3** Update non-breaking dependencies:
  ```bash
  npm update
  ```
- [ ] **4.5.4** For major updates, review CHANGELOG
- [ ] **4.5.5** Test thoroughly after updates
- [ ] **4.5.6** Update package-lock.json

**Estimated Time**: 1-2 hours

---

### 4.6 Remove Unnecessary Dependencies

- [ ] **4.6.1** Check if `react-bootstrap` is heavily used
  - [ ] If minimal usage, could replace with custom CSS
  - [ ] Would save ~30KB
- [ ] **4.6.2** Review `react-icons` usage
  - [ ] Are all icons used?
  - [ ] Could use SVG alternatives?
- [ ] **4.6.3** Check `redux-devtools-extension` necessity
  - [ ] Only needed in development
  - [ ] Already included in Redux Toolkit
- [ ] **4.6.4** Document any removed dependencies in CHANGELOG
- [ ] **4.6.5** Test app after removal

**Estimated Time**: 1-2 hours

---

## Phase 5: Testing & Quality 🟡

**Phase Status**: 0/15 | **Est. Time**: 8-12 hours

### 5.1 Setup Testing Infrastructure

- [ ] **5.1.1** Verify Jest is properly configured
- [ ] **5.1.2** Verify React Testing Library is installed
- [ ] **5.1.3** Create `src/__tests__/` directory structure:
  ```
  __tests__/
    ├── components/
    ├── hooks/
    ├── services/
    ├── store/
    └── utils/
  ```
- [ ] **5.1.4** Create test utilities file (`setupTests.js`)
- [ ] **5.1.5** Add test coverage reporting:
  ```bash
  npm test -- --coverage
  ```
- [ ] **5.1.6** Create `.nycrc` for coverage thresholds
  ```json
  {
    "branches": 70,
    "lines": 80,
    "functions": 80,
    "statements": 80
  }
  ```

**Estimated Time**: 1 hour

---

### 5.2 Unit Tests: Redux

- [ ] **5.2.1** Create `src/__tests__/store/settingsSlice.test.js`
  - [ ] Test each reducer
  - [ ] Test action creators
  - [ ] Test initial state
  - [ ] Test state transitions
  - [ ] **Target**: 90%+ coverage
- [ ] **5.2.2** Create `src/__tests__/store/store.test.js`
  - [ ] Test store configuration
  - [ ] Test middleware setup
- [ ] **5.2.3** Create `src/__tests__/store/selectors.test.js`
  - [ ] Test each selector
  - [ ] Test memoization

**Estimated Time**: 2-3 hours

---

### 5.3 Unit Tests: Utilities

- [ ] **5.3.1** Create `src/__tests__/utilities/util.test.js`
  - [ ] Test each utility function
  - [ ] Test edge cases
  - [ ] Test error handling
- [ ] **5.3.2** Reach 95%+ coverage for utils

**Estimated Time**: 1-2 hours

---

### 5.4 Unit Tests: Custom Hooks

- [ ] **5.4.1** Create `src/__tests__/hooks/useTimerMode.test.js`
- [ ] **5.4.2** Create `src/__tests__/hooks/useAutoStartCycle.test.js`
- [ ] **5.4.3** Create `src/__tests__/hooks/useTimerControls.test.js`
- [ ] **5.4.4** Create `src/__tests__/hooks/useAudioManager.test.js`
- [ ] **5.4.5** Use `renderHook` from React Testing Library
- [ ] **5.4.6** Test state changes and side effects
- [ ] **5.4.7** Target 80%+ coverage per hook

**Estimated Time**: 3-4 hours

---

### 5.5 Component Unit Tests

- [ ] **5.5.1** Create `src/__tests__/components/Timer.test.js`
  - [ ] Test render
  - [ ] Test button clicks
  - [ ] Test mode switching
- [ ] **5.5.2** Create tests for other main components
  - [ ] Settings.jsx
  - [ ] Report.jsx
  - [ ] ResponsiveHeader.jsx
- [ ] **5.5.3** Mock Redux for component tests
- [ ] **5.5.4** Mock audio player
- [ ] **5.5.5** Target 70%+ coverage

**Estimated Time**: 2-3 hours

---

### 5.6 Integration Tests

- [ ] **5.6.1** Create `src/__tests__/integration/workflows.test.js`
- [ ] **5.6.2** Test complete user workflows:
  - [ ] Start timer → Pause → Resume → Complete
  - [ ] Switch modes during pause
  - [ ] Enable/disable auto-start
  - [ ] Change settings and verify timer updates
- [ ] **5.6.3** Test mode transitions
- [ ] **5.6.4** Test auto-start cycle
- [ ] **5.6.5** Mock timers with Jest fake timers

**Estimated Time**: 2-3 hours

---

### 5.7 Add E2E Tests (Optional)

- [ ] **5.7.1** Choose tool: Cypress or Playwright
- [ ] **5.7.2** Setup E2E test infrastructure
- [ ] **5.7.3** Create critical user journey tests
- [ ] **5.7.4** Run tests in CI/CD pipeline
- [ ] **5.7.5** Document E2E testing guide

**Estimated Time**: 3-4 hours (optional)

---

## Phase 6: Performance Optimization 🟡

**Phase Status**: 0/12 | **Est. Time**: 5-7 hours

### 6.1 Bundle Analysis

- [ ] **6.1.1** Install webpack-bundle-analyzer:
  ```bash
  npm install --save-dev webpack-bundle-analyzer
  ```
- [ ] **6.1.2** Create analyze build script in package.json
- [ ] **6.1.3** Generate bundle report
- [ ] **6.1.4** Identify largest dependencies
- [ ] **6.1.5** Document findings in ANALYSIS.md
- [ ] **6.1.6** Look for opportunities:
  - [ ] Duplicate packages
  - [ ] Large libraries with smaller alternatives
  - [ ] Unused code being bundled

**Estimated Time**: 1 hour

---

### 6.2 Memoization Strategy

- [ ] **6.2.1** Wrap `SecondaryButtons` component in `React.memo()`
- [ ] **6.2.2** Add `React.memo()` to other child components if needed
- [ ] **6.2.3** Use `useCallback` for button handlers in Timer.jsx
  - [ ] `startButtonClicked`
  - [ ] `pauseButtonClicked`
  - [ ] `resumeButtonClicked`
  - [ ] `forwardButtonClicked`
  - [ ] `backwardButtonClicked`
- [ ] **6.2.4** Use `useMemo` for expensive calculations:
  - [ ] `buttonStyle()` result
  - [ ] Mode handler map
- [ ] **6.2.5** Use Redux selector memoization
- [ ] **6.2.6** Profile with React DevTools to verify improvements

**Estimated Time**: 1-2 hours

---

### 6.3 Code Splitting Implementation

- [ ] **6.3.1** Verify lazy loading from Phase 4.2 is complete
- [ ] **6.3.2** Add loading fallback UI for lazy components
  ```javascript
  <Suspense fallback={<LoadingSpinner />}>
    <LazyComponent />
  </Suspense>
  ```
- [ ] **6.3.3** Test code splitting in build:
  ```bash
  npm run build
  ```
- [ ] **6.3.4** Verify chunks are created separately
- [ ] **6.3.5** Check Network tab in DevTools

**Estimated Time**: 1 hour

---

### 6.4 Image & Asset Optimization

- [ ] **6.4.1** Check all SVG files in `src/assets/`
  - [ ] Are they minified?
  - [ ] Could any be replaced with CSS?
- [ ] **6.4.2** Check favicon usage
  - [ ] Can we consolidate favicon files?
  - [ ] Are all sizes necessary?
- [ ] **6.4.3** Optimize PNG images (if any)
  - [ ] Use online compressor
  - [ ] Consider WebP format
- [ ] **6.4.4** Audio file optimization (from Phase 3.5)
  - [ ] Convert unused formats
  - [ ] Compress audio files

**Estimated Time**: 1 hour

---

### 6.5 CSS Performance

- [ ] **6.5.1** Identify unused CSS classes
  - [ ] Use PurgeCSS or similar
  - [ ] Remove from Bootstrap if not using all
- [ ] **6.5.2** Minimize critical path CSS
- [ ] **6.5.3** Inline critical CSS if possible
- [ ] **6.5.4** Check for CSS specificity issues
- [ ] **6.5.5** Test layout shift (Cumulative Layout Shift)

**Estimated Time**: 1-2 hours

---

### 6.6 Runtime Performance

- [ ] **6.6.1** Profile with React DevTools Profiler
  - [ ] Identify slow components
  - [ ] Check render times
  - [ ] Look for unnecessary re-renders
- [ ] **6.6.2** Profile with Chrome DevTools Performance tab
  - [ ] Record timeline
  - [ ] Check for jank
  - [ ] Analyze frame rates
- [ ] **6.6.3** Test on low-end devices/connections
- [ ] **6.6.4** Document baseline metrics

**Estimated Time**: 1-2 hours

---

## Phase 7: Features & UX 🟢

**Phase Status**: 0/16 | **Est. Time**: Varies

### 7.1 Persistence Layer

- [ ] **7.1.1** Install redux-persist:
  ```bash
  npm install redux-persist
  ```
- [ ] **7.1.2** Configure redux-persist in store setup
- [ ] **7.1.3** Persist to localStorage:
  - [ ] All user settings
  - [ ] Current timer state
  - [ ] Counter/cycle progress
- [ ] **7.1.4** Add migration system for future schema changes
- [ ] **7.1.5** Add "Clear All Data" button to Settings
- [ ] **7.1.6** Test persistence across browser refresh
- [ ] **7.1.7** Test on different devices

**Estimated Time**: 2-3 hours

---

### 7.2 Keyboard Shortcuts

- [ ] **7.2.1** Create custom hook: `useKeyboardShortcuts()`
- [ ] **7.2.2** Implement shortcuts:
  - [ ] `Space` = Start/Pause/Resume
  - [ ] `→` (Right Arrow) = Next cycle
  - [ ] `←` (Left Arrow) = Previous cycle
  - [ ] `?` = Show help
  - [ ] `S` = Open Settings
- [ ] **7.2.3** Add help text in Help component
- [ ] **7.2.4** Handle focus conflicts (don't trigger in text inputs)
- [ ] **7.2.5** Add visual indicator for shortcuts
- [ ] **7.2.6** Test all shortcuts

**Estimated Time**: 2-3 hours

---

### 7.3 Mobile UX Improvements

- [ ] **7.3.1** Audit touch target sizes
  - [ ] Buttons should be min 44px × 44px
  - [ ] Review all clickable elements
- [ ] **7.3.2** Test on actual mobile devices
  - [ ] iOS (Safari)
  - [ ] Android (Chrome)
- [ ] **7.3.3** Optimize touch interactions:
  - [ ] Remove hover effects on mobile
  - [ ] Add active/pressed states
  - [ ] Reduce motion if user prefers
- [ ] **7.3.4** Test responsive layout at all breakpoints
- [ ] **7.3.5** Add viewport meta optimization
- [ ] **7.3.6** Test landscape/portrait orientation
- [ ] **7.3.7** Disable zoom if appropriate (carefully)
- [ ] **7.3.8** Test with keyboard on mobile

**Estimated Time**: 2-3 hours

---

### 7.4 Dark Mode Implementation

- [ ] **7.4.1** Create CSS variables for theme colors
  ```css
  :root {
    --bg-primary: #ffffff;
    --text-primary: #000000;
    --timer-btn: #f54e4e;
  }
  [data-theme="dark"] {
    --bg-primary: #1a1a1a;
    --text-primary: #ffffff;
  }
  ```
- [ ] **7.4.2** Create Redux state for theme preference
- [ ] **7.4.3** Add toggle button in Settings
- [ ] **7.4.4** Detect system preference: `prefers-color-scheme`
- [ ] **7.4.5** Persist theme selection to localStorage (with 7.1)
- [ ] **7.4.6** Apply theme class to document root
- [ ] **7.4.7** Update all CSS files to use variables
- [ ] **7.4.8** Test contrast ratios (WCAG AA minimum)
- [ ] **7.4.9** Test both modes thoroughly

**Estimated Time**: 2-3 hours

---

### 7.5 Input Validation & Feedback

- [ ] **7.5.1** Review Settings component for timer inputs
- [ ] **7.5.2** Add validation for timer durations:
  - [ ] Minimum 1 minute
  - [ ] Maximum 60 minutes
  - [ ] Non-negative values only
- [ ] **7.5.3** Add real-time validation feedback
  - [ ] Show error message if invalid
  - [ ] Disable save button if invalid
- [ ] **7.5.4** Add success/error toasts for settings changes
- [ ] **7.5.5** Test edge cases and invalid inputs
- [ ] **7.5.6** Improve error messages for users

**Estimated Time**: 1-2 hours

---

### 7.6 Notification System (PWA)

- [ ] **7.6.1** Add browser notification on timer complete
  - [ ] Request user permission
  - [ ] Show notification with title and icon
  - [ ] Allow click to focus window
- [ ] **7.6.2** Add sound to notification (already have sounds)
- [ ] **7.6.3** Test on different browsers
- [ ] **7.6.4** Graceful fallback if not supported
- [ ] **7.6.5** Add setting to enable/disable notifications

**Estimated Time**: 1-2 hours

---

### 7.7 Accessibility Improvements

- [ ] **7.7.1** Audit with axe DevTools
- [ ] **7.7.2** Fix color contrast issues
- [ ] **7.7.3** Add ARIA labels to buttons:
  - [ ] `aria-label="Start timer"`
  - [ ] `aria-label="Pause timer"`
  - [ ] `aria-label="Settings"`
- [ ] **7.7.4** Add ARIA live regions for timer updates:
  ```jsx
  <div aria-live="polite" aria-atomic="true">
    {minutes}:{seconds}
  </div>
  ```
- [ ] **7.7.5** Test with screen reader (NVDA/JAWS/VoiceOver)
- [ ] **7.7.6** Ensure keyboard navigation works
- [ ] **7.7.7** Add focus indicators to all interactive elements
- [ ] **7.7.8** Test with `prefers-reduced-motion`

**Estimated Time**: 2-3 hours

---

## Phase 8: Developer Experience 🟢

**Phase Status**: 0/14 | **Est. Time**: 4-5 hours

### 8.1 ESLint Configuration

- [ ] **8.1.1** Install ESLint and config:
  ```bash
  npm install --save-dev eslint eslint-config-react-app
  ```
- [ ] **8.1.2** Create `.eslintrc.json`:
  ```json
  {
    "extends": "react-app",
    "rules": {
      "no-console": ["warn", { "allow": ["warn", "error"] }],
      "no-unused-vars": "warn",
      "prefer-const": "error",
      "no-var": "error"
    }
  }
  ```
- [ ] **8.1.3** Add lint script to package.json:
  ```json
  "lint": "eslint src --ext .js,.jsx"
  ```
- [ ] **8.1.4** Fix all linting errors
- [ ] **8.1.5** Add pre-commit hook (see 8.3)

**Estimated Time**: 30 minutes

---

### 8.2 Prettier Code Formatting

- [ ] **8.2.1** Install Prettier:
  ```bash
  npm install --save-dev prettier eslint-config-prettier
  ```
- [ ] **8.2.2** Create `.prettierrc`:
  ```json
  {
    "semi": true,
    "singleQuote": false,
    "trailingComma": "es5",
    "tabWidth": 2,
    "printWidth": 80
  }
  ```
- [ ] **8.2.3** Create `.prettierignore`
- [ ] **8.2.4** Add format script:
  ```json
  "format": "prettier --write \"src/**/*.{js,jsx,css}\""
  ```
- [ ] **8.2.5** Run formatter on entire codebase
- [ ] **8.2.6** Update ESLint to extend prettier

**Estimated Time**: 30 minutes

---

### 8.3 Pre-commit Hooks with Husky

- [ ] **8.3.1** Install Husky:
  ```bash
  npm install --save-dev husky lint-staged
  npx husky install
  ```
- [ ] **8.3.2** Create `.husky/pre-commit`:
  ```bash
  #!/bin/sh
  . "$(dirname "$0")/_/husky.sh"
  npx lint-staged
  ```
- [ ] **8.3.3** Create `.lintstagedrc`:
  ```json
  {
    "*.{js,jsx}": "eslint --fix",
    "*.{js,jsx,css}": "prettier --write"
  }
  ```
- [ ] **8.3.4** Test pre-commit hook with intentional errors
- [ ] **8.3.5** Document git workflow for team

**Estimated Time**: 45 minutes

---

### 8.4 Environment Variables

- [ ] **8.4.1** Create `.env.example`:
  ```
  REACT_APP_API_URL=http://localhost:3000
  REACT_APP_ENVIRONMENT=development
  ```
- [ ] **8.4.2** Create `.env` (gitignored)
- [ ] **8.4.3** Create `.env.production`
- [ ] **8.4.4** Add environment-specific configs in code
- [ ] **8.4.5** Update README with setup instructions
- [ ] **8.4.6** Document all environment variables

**Estimated Time**: 30 minutes

---

### 8.5 JSDoc Documentation

- [ ] **8.5.1** Add JSDoc to all utility functions:
  ```javascript
  /**
   * Converts minutes to seconds
   * @param {number} minutes - The number of minutes
   * @returns {number} The number of seconds
   */
  export const minutesToSeconds = (minutes) => minutes * 60
  ```
- [ ] **8.5.2** Document all custom hooks
- [ ] **8.5.3** Document Redux actions and selectors
- [ ] **8.5.4** Document component props:
  ```javascript
  /**
   * Timer component
   * @component
   * @returns {React.ReactElement}
   */
  ```
- [ ] **8.5.5** Setup JSDoc VS Code plugin for hints

**Estimated Time**: 1-2 hours

---

### 8.6 README Enhancement

- [ ] **8.6.1** Update README with:
  - [ ] Better setup instructions
  - [ ] Development vs production builds
  - [ ] Testing commands
  - [ ] Contributing guidelines
- [ ] **8.6.2** Add Architecture section:
  - [ ] Directory structure explanation
  - [ ] Data flow diagram
  - [ ] State management overview
- [ ] **8.6.3** Add Troubleshooting section
- [ ] **8.6.4** Add screenshots of features
- [ ] **8.6.5** Link to CONTRIBUTING.md

**Estimated Time**: 1 hour

---

### 8.7 CONTRIBUTING.md File

- [ ] **8.7.1** Create `CONTRIBUTING.md`:
  - [ ] How to set up development environment
  - [ ] Coding style guide
  - [ ] How to submit PRs
  - [ ] How to report bugs
- [ ] **8.7.2** Define branch naming convention
- [ ] **8.7.3** Define commit message format (Conventional Commits)
- [ ] **8.7.4** Document testing requirements
- [ ] **8.7.5** Link from main README

**Estimated Time**: 1 hour

---

### 8.8 GitHub Actions CI/CD

- [ ] **8.8.1** Review existing `.github/workflows/docker-image.yml`
- [ ] **8.8.2** Create `.github/workflows/lint-and-test.yml`:
  ```yaml
  name: Lint and Test
  on: [push, pull_request]
  jobs:
    lint-test:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v2
        - uses: actions/setup-node@v2
        - run: npm install
        - run: npm run lint
        - run: npm run test -- --coverage
  ```
- [ ] **8.8.3** Create `.github/workflows/build.yml` for production builds
- [ ] **8.8.4** Test CI pipeline with test commits
- [ ] **8.8.5** Require CI to pass before merging PRs

**Estimated Time**: 1-2 hours

---

### 8.9 TypeScript Migration (Optional)

- [ ] **8.9.1** Evaluate TypeScript necessity
  - [ ] Is codebase complex enough?
  - [ ] Would team benefit?
- [ ] **8.9.2** If pursuing:
  - [ ] Install TypeScript dependencies
  - [ ] Create `tsconfig.json`
  - [ ] Migrate files incrementally `.js` → `.ts`/.tsx`
  - [ ] Setup IDE support
- [ ] **8.9.3** Add type definitions for Redux
- [ ] **8.9.4** Add type definitions for external libraries

**Estimated Time**: 8-12 hours (optional, considerable effort)

---

## Phase 9: Documentation & Knowledge Base 🟢

**Phase Status**: 0/8 | **Est. Time**: 3-4 hours

### 9.1 Architecture Documentation

- [ ] **9.1.1** Create `docs/ARCHITECTURE.md`:
  - [ ] System overview diagram
  - [ ] Component hierarchy
  - [ ] Data flow explanation
  - [ ] State management pattern
- [ ] **9.1.2** Document Redux slice structure
- [ ] **9.1.3** Document custom hooks design
- [ ] **9.1.4** Document service layer design
- [ ] **9.1.5** Add diagrams (use Mermaid or Lucidchart)

**Estimated Time**: 1-2 hours

---

### 9.2 API Documentation

- [ ] **9.2.1** Create `docs/API.md` for all exported functions
- [ ] **9.2.2** Document custom hooks API:
  ```markdown
  ## useTimerMode()
  Returns: { currentMode, switchMode, getModeName }
  ```
- [ ] **9.2.3** Document Redux actions
- [ ] **9.2.4** Document Redux selectors
- [ ] **9.2.5** Document service layer APIs

**Estimated Time**: 1 hour

---

### 9.3 Setup & Deployment Guide

- [ ] **9.3.1** Create `docs/SETUP.md`:
  - [ ] Node/npm version requirements
  - [ ] Step-by-step setup
  - [ ] Env variables needed
  - [ ] Running tests
  - [ ] Starting dev server
- [ ] **9.3.2** Create `docs/DEPLOYMENT.md`:
  - [ ] Build process
  - [ ] Deployment steps to production
  - [ ] Environment-specific configs
  - [ ] Rollback procedure
- [ ] **9.3.3** Create `docs/DOCKER.md` for Docker setup
- [ ] **9.3.4** Test all instructions with fresh clone

**Estimated Time**: 1 hour

---

### 9.4 Troubleshooting Guide

- [ ] **9.4.1** Create `docs/TROUBLESHOOTING.md`
- [ ] **9.4.2** Common issues and solutions:
  - [ ] Audio not working
  - [ ] Timer not starting
  - [ ] Build errors
  - [ ] Port already in use
- [ ] **9.4.3** Add debugging tips
- [ ] **9.4.4** Add links to GitHub issues

**Estimated Time**: 30 minutes

---

## Phase 10: Maintenance & Monitoring 🟢

**Phase Status**: 0/8 | **Est. Time**: 2-3 hours (setup) + ongoing

### 10.1 Error Tracking Setup

- [ ] **10.1.1** Consider error tracking service (Sentry, LogRocket)
- [ ] **10.1.2** If using Sentry:
  - [ ] Create account
  - [ ] Install `@sentry/react`
  - [ ] Initialize in index.jsx
  - [ ] Add error boundary
- [ ] **10.1.3** Setup error notifications to Slack/email
- [ ] **10.1.4** Create dashboard for monitoring

**Estimated Time**: 1-2 hours (optional)

---

### 10.2 Performance Monitoring

- [ ] **10.2.1** Setup Web Vitals tracking
- [ ] **10.2.2** Track Core Web Vitals:
  - [ ] LCP (Largest Contentful Paint)
  - [ ] FID (First Input Delay)
  - [ ] CLS (Cumulative Layout Shift)
- [ ] **10.2.3** Log metrics to analytics
- [ ] **10.2.4** Set performance budgets

**Estimated Time**: 1 hour (optional)

---

### 10.3 Analytics Setup

- [ ] **10.3.1** Consider Google Analytics or alternative
- [ ] **10.3.2** Track user actions:
  - [ ] Timer started
  - [ ] Cycle completed
  - [ ] Settings changed
  - [ ] Feature usage
- [ ] **10.3.3** Setup dashboards
- [ ] **10.3.4** Review privacy concerns

**Estimated Time**: 1 hour (optional)

---

### 10.4 Dependency Maintenance Schedule

- [ ] **10.4.1** Create maintenance schedule:
  - [ ] Monthly: Review security advisories
  - [ ] Quarterly: Update dependencies
  - [ ] Yearly: Major version audits
- [ ] **10.4.2** Setup Dependabot on GitHub
- [ ] **10.4.3** Automate security updates
- [ ] **10.4.4** Test updates before merging

**Estimated Time**: 30 minutes (ongoing)

---

### 10.5 Release Management

- [ ] **10.5.1** Create `CHANGELOG.md` file
- [ ] **10.5.2** Setup semantic versioning
- [ ] **10.5.3** Create release checklist template
- [ ] **10.5.4** Setup automated version bumping
- [ ] **10.5.5** Create GitHub release notes template

**Estimated Time**: 1 hour

---

---

## Suggested Additional Improvements 💡

### Beyond the Phases

- **Animation Framework**: Consider Framer Motion for smooth transitions
- **State Persistence Encryption**: Encrypt localStorage data for security
- **Offline Support**: Add service worker for offline functionality
- **Export/Import Data**: Allow users to backup their stats
- **Leaderboard/Achievements**: Gamification for motivation
- **Multi-Language Support (i18n)**: Use react-i18next
- **Video Tutorials**: Create setup and usage videos
- **Blog/Documentation Site**: Separate docs site
- **Mobile App**: React Native for iOS/Android
- **Browser Extension**: Quick-access timer from any tab

---

## Quick Reference: Task Counts

| Phase | Tasks | Status | Est. Time |
|-------|-------|--------|-----------|
| 1: Performance & Quality | 13 | 0% | 8-10h |
| 2: State Management | 14 | 0% | 6-8h |
| 3: Audio Management | 11 | 0% | 4-5h |
| 4: Modernization | 12 | 0% | 8-10h |
| 5: Testing | 15 | 0% | 8-12h |
| 6: Performance Opt. | 12 | 0% | 5-7h |
| 7: Features & UX | 16 | 0% | Varies |
| 8: Developer Experience | 14 | 0% | 4-5h |
| 9: Documentation | 8 | 0% | 3-4h |
| 10: Maintenance | 8 | 0% | 2-3h |
| **TOTAL** | **🎯 123 Tasks** | **0%** | **~55-75h** |

---

## Recommended Execution Strategy

### Week 1-2: Foundation (Phases 1 & 2)
- Quick wins from Phase 1
- Critical state management fixes
- Expected result: ~30% faster, more maintainable code

### Week 3-4: Stability (Phases 3, 5 & 8)
- Audio fixes
- Testing infrastructure
- Developer tooling
- Expected result: Confidence in code quality

### Week 5-6: Modernization (Phases 4 & 6)
- Router upgrade
- Performance optimization
- Expected result: Faster load times, better UX

### Week 7+: Polish (Phases 7, 9 & 10)
- New features
- Documentation
- Monitoring
- Expected result: Professional, maintainable product

---

## Success Metrics

Track these before and after optimization:

- **Bundle Size**: Target: < 250KB gzipped
- **Initial Load Time**: Target: < 2s on 4G
- **Time to Interactive**: Target: < 3s
- **Test Coverage**: Target: > 80%
- **Lighthouse Score**: Target: > 90 (all categories)
- **Accessibility**: Target: WCAG AA compliant
- **Code Duplication**: Target: < 5%
- **Type Safety**: Target: TypeScript or JSDoc 100% (if applicable)

---

## Notes for Future Contributors

- This roadmap is a living document—update as priorities change
- Some tasks can be parallelized (testing, documentation)
- Phases are not strictly sequential—skip or reorder as needed
- Always run tests after completing a phase
- Keep git history clean with meaningful commit messages
- Link PRs to specific tasks in this roadmap
- Celebrate completed phases! 🎉